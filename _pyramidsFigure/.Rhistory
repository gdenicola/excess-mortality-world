scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2400, x=44, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2400, x=44, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidUSA.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2500, x=44, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2500, x=44, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidUSA.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2700, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2700, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2600, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2600, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2500, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2500, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2600, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2500, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2550, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2500, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2500,2500), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2500, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2500, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2600,2600), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2600, x=25, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2600, x=25, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2600,2600), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2600, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2600, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2600,2600), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2550, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2600, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2600,2600), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2550, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2620, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2600,2600), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2550, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2600, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2600,2600), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2530, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2600, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 500), limits = c(-2620,2620), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2530, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2620, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidUSA.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2620,2620), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2530, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2620, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidUSA.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2670,2670), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2570, x=24, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2670, x=24, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidUSA.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2670,2670), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2570, x=21, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2670, x=21, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2670,2670), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2570, x=19, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2670, x=19, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2670,2670), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2570, x=20, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2670, x=20, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2670,2670), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2470, x=20, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2570, x=20, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2670,2670), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2450, x=20, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2550, x=20, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-2500,2500, 1000), limits = c(-2580,2580), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10), position = "top") +
labs(title = NULL, x = "",
y = "Population (thousands)") +
annotate(geom="text", y=-1300, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=1300, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=2480, x=20, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-2580, x=20, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidUSA.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-800,800, 200), limits = c(-800,800), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10)) +
labs(title = NULL, x = "Age",
y = "Population (thousands)") +
annotate(geom="text", y=-360, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=360, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=740, x=44, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-740, x=44, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)) #set directory to current
rm(list=ls()) # clear environment
options(scipen=999)
#load necessary packages
library(tidyverse)
library(ggpubr)
library(readxl)
data <- read_excel("germany.xlsx")
long_data <- pivot_longer(data,cols = 3:4,names_to = "Gender",values_to = "Population")
long_data <- mutate(long_data, Population = Population/1000)
# change male population to negative
long_data <- mutate(long_data,
Population = ifelse(Gender=="Male", Population*(-1),
Population*1))
#define vector of colours for the bars
colours <- c("tomato1","skyblue")
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-800,800, 200), limits = c(-800,800), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10)) +
labs(title = NULL, x = "Age",
y = "Population (thousands)") +
annotate(geom="text", y=-360, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=360, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=740, x=44, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-740, x=44, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidGermany.pdf",width = 8,height = 10)
ggplot(long_data, aes(x = Age,y = Population, fill=Gender)) +
geom_bar(data = long_data %>% filter(Year == 2020),stat = "identity") +
geom_step(data = long_data %>% filter(Year == 2015),stat = "identity") +
coord_flip() +
theme_pubclean(base_size = 25) +
scale_fill_manual(values= colours) +
scale_y_continuous(breaks = seq(-750,750, 250), limits = c(-800,800), labels= abs) +
scale_x_continuous(breaks = seq(0,110,10)) +
labs(title = NULL, x = "Age",
y = "Population (thousands)") +
annotate(geom="text", y=-360, x=53.2, label="Males 2020",
color="royalblue4", fontface=2, size=6.5) +
annotate(geom="text", y=360, x=53.2, label="Females 2020",
color="darkred", fontface=2, size=6.5) +
annotate(geom="text", y=740, x=44, label="2015",
color="black", fontface=2, size=6.5) +
annotate(geom="text", y=-740, x=44, label="2015",
color="black", fontface=2, size=6.5) +
theme(legend.position = "none")
ggsave("_pyramidGermany.pdf",width = 8,height = 10)
